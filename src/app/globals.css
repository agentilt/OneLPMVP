h1, h2, h3, h4 {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.16);
}
@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap');

@property --scroll-angle {
  syntax: '<angle>';
  inherits: true;
  initial-value: 135deg;
}

:root {
  --background: #eef2fa;
  --background-alt: #e3e9f7;
  --surface: #fbfcff;
  --surface-strong: #ffffff;
  --surface-hover: #f6f8ff;
  --foreground: #0b1020;
  --foreground-soft: #1c2740;
  --muted: #4a5672;
  --muted-soft: #64718c;
  --scroll-base: var(--background);
  --scroll-base-alt: var(--background-alt);
  --scroll-angle: 135deg;
  --scroll-grad-a: color-mix(in srgb, var(--accent-color) 42%, var(--scroll-base) 58%);
  --scroll-grad-b: color-mix(in srgb, var(--accent-color) 36%, var(--scroll-base-alt) 64%);
  --scroll-grad-c: color-mix(in srgb, var(--accent-color) 28%, var(--scroll-base) 72%);
  --scroll-linear-a: color-mix(in srgb, var(--scroll-base-alt) 78%, var(--accent-color) 22%);
  --scroll-linear-b: color-mix(in srgb, var(--scroll-base) 80%, var(--accent-color) 20%);
  --border-width: 1px;
  --border-color: rgba(255, 255, 255, 0.08);
  --border-strong: rgba(255, 255, 255, 0.12);
  --accent-color: #a78bfa;
  --accent-hover: #8b5cf6;
  --accent-100: rgba(167, 139, 250, 0.18);
  --accent-200: rgba(167, 139, 250, 0.3);
  --card-glow: 0 12px 28px rgba(12, 20, 50, 0.16);
  --shadow-soft: 0 8px 18px rgba(12, 20, 50, 0.14);
  --shadow-medium: 0 14px 30px rgba(12, 20, 50, 0.18);
  --glass-blur: 14px;
  --glass-opacity: 0.94;
  --glass-stroke: rgba(70, 88, 200, 0.5);
  --radius-s: 12px;
  --radius-m: 18px;
  --radius-l: 26px;
  --radius-xl: 32px;
  --duration-fast: 0.15s;
  --duration-normal: 0.25s;
  --duration-slow: 0.45s;
  --easing-out: cubic-bezier(0.16, 1, 0.3, 1);
  --font-inter: 'Space Grotesk', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;

  /* Shared liquid background stack (light) */
  --liquid-bg:
    radial-gradient(140% 120% at 50% 52%, rgba(0, 16, 36, 0.18), transparent 62%),
    radial-gradient(circle at 16% 14%, color-mix(in srgb, var(--scroll-grad-a) 96%, #ffffff 4%), transparent 32%),
    radial-gradient(circle at 84% 18%, color-mix(in srgb, var(--scroll-grad-b) 92%, #ffffff 8%), transparent 38%),
    radial-gradient(circle at 50% 82%, color-mix(in srgb, var(--scroll-grad-c) 90%, #ffffff 10%), transparent 44%),
    conic-gradient(
      from calc(var(--scroll-angle) + 18deg) at 50% 42%,
      color-mix(in srgb, var(--scroll-linear-a) 78%, #ffffff 22%) 0deg,
      color-mix(in srgb, var(--scroll-linear-b) 78%, #ffffff 22%) 120deg,
      color-mix(in srgb, var(--scroll-linear-a) 68%, #ffffff 32%) 240deg,
      color-mix(in srgb, var(--scroll-linear-b) 74%, #ffffff 26%) 360deg
    ),
    linear-gradient(
      var(--scroll-angle),
      color-mix(in srgb, var(--scroll-linear-a) 86%, #ffffff 14%) 0%,
      color-mix(in srgb, var(--scroll-linear-b) 84%, #ffffff 16%) 60%,
      color-mix(in srgb, var(--scroll-linear-a) 84%, #ffffff 16%) 100%
    );
}

:root:not(.dark) body,
:root:not(.dark) html {
  background: var(--liquid-bg) !important;
  background-attachment: fixed, fixed, fixed, fixed, fixed;
  background-repeat: no-repeat;
  background-size: cover;
  animation: liquid-angle 22s ease-in-out infinite alternate;
}

:root:not(.dark) {
  animation: liquid-angle 22s ease-in-out infinite alternate;
}

:root:not(.dark) body::before,
:root:not(.dark) body::after,
:root:not(.dark) .glass-page::before {
  display: none !important;
}

:root:not(.dark) body::after {
  content: '';
  position: fixed;
  inset: -4px;
  pointer-events: none;
  z-index: 0;
  background-image:
    radial-gradient(circle, rgba(255, 255, 255, 0.05) 1px, transparent 0),
    radial-gradient(circle, rgba(0, 0, 0, 0.04) 1px, transparent 0);
  background-size: 160px 160px, 220px 220px;
  mix-blend-mode: soft-light;
  opacity: 0.28;
}

:root:not(.dark) body::before {
  content: '';
  position: fixed;
  inset: -20%;
  pointer-events: none;
  z-index: 0;
  background:
    conic-gradient(
      from 120deg at 50% 45%,
      rgba(255, 255, 255, 0.08) 0deg,
      color-mix(in srgb, var(--accent-color) 32%, transparent) 70deg,
      rgba(255, 255, 255, 0.06) 150deg,
      color-mix(in srgb, var(--accent-color) 26%, transparent) 240deg,
      rgba(255, 255, 255, 0.08) 360deg
    );
  mix-blend-mode: screen;
  opacity: 0.25;
  filter: blur(46px);
  animation: liquid-spin 48s linear infinite, liquid-float 18s ease-in-out infinite alternate;
}

.dark {
  --background: #070b13;
  --background-alt: #0b1220;
  --surface: rgba(14, 20, 34, 0.92);
  --surface-strong: #0f1627;
  --surface-hover: rgba(255, 255, 255, 0.06);
  --foreground: #e6edf7;
  --foreground-soft: #c8d2e5;
  --muted: #9aadcb;
  --muted-soft: #8294b8;
  --border-width: 1px;
  --border-color: #1c2738;
  --border-strong: #253144;
  --accent-color: #6bdcff;
  --accent-hover: #52b7ff;
  --accent-100: rgba(107, 220, 255, 0.14);
  --accent-200: rgba(107, 220, 255, 0.24);
  --card-glow: 0 14px 42px rgba(9, 20, 42, 0.55);
  --shadow-soft: 0 18px 46px rgba(0, 0, 0, 0.4);
  --shadow-medium: 0 26px 70px rgba(0, 0, 0, 0.5);
  --radius-s: 12px;
  --radius-m: 18px;
  --radius-l: 26px;
  --radius-xl: 32px;
  --duration-fast: 0.15s;
  --duration-normal: 0.25s;
  --duration-slow: 0.45s;
  --easing-out: cubic-bezier(0.16, 1, 0.3, 1);
}

html.theme-blue {
  --accent-color: #0f9bf4;
  --accent-hover: #0b83cc;
  --scroll-base: color-mix(in srgb, #0f9bf4 28%, #eef2fa);
  --scroll-base-alt: color-mix(in srgb, #0f9bf4 22%, #e3e9f7);
  --background: #eef2fa;
  --background-alt: #e3e9f7;
  --surface: #ffffff;
  --surface-strong: #f7f9ff;
  --surface-hover: #f0f4fd;
}

html.theme-green {
  --accent-color: #1fb86c;
  --accent-hover: #179456;
  --scroll-base: color-mix(in srgb, #1fb86c 28%, #eef2fa);
  --scroll-base-alt: color-mix(in srgb, #1fb86c 22%, #e3e9f7);
  --background: #eef2fa;
  --background-alt: #e3e9f7;
  --surface: #ffffff;
  --surface-strong: #f7f9ff;
  --surface-hover: #f0f4fd;
}

html.theme-purple {
  --accent-color: #8a5af5;
  --accent-hover: #6f3ee4;
  --scroll-base: color-mix(in srgb, #8a5af5 28%, #eef2fa);
  --scroll-base-alt: color-mix(in srgb, #8a5af5 22%, #e3e9f7);
  --background: #eef2fa;
  --background-alt: #e3e9f7;
  --surface: #ffffff;
  --surface-strong: #f7f9ff;
  --surface-hover: #f0f4fd;
}

html.theme-orange {
  --accent-color: #f39b1a;
  --accent-hover: #d67f05;
  --scroll-base: color-mix(in srgb, #f39b1a 28%, #eef2fa);
  --scroll-base-alt: color-mix(in srgb, #f39b1a 22%, #e3e9f7);
  --background: #eef2fa;
  --background-alt: #e3e9f7;
  --surface: #ffffff;
  --surface-strong: #f7f9ff;
  --surface-hover: #f0f4fd;
}

/* AI-native shell tokens (landing page aesthetic, scoped) */
html.ai-shell {
  --background: #070a16;
  --background-soft: #0c1024;
  --background-alt: rgba(255, 255, 255, 0.06);
  --surface: rgba(255, 255, 255, 0.08);
  --surface-strong: rgba(255, 255, 255, 0.12);
  --surface-hover: rgba(255, 255, 255, 0.08);
  --foreground: #f6f7fb;
  --foreground-soft: #dfe5ff;
  --muted: #b6bed6;
  --muted-soft: #9aa5c1;
  --accent-color: #6bdcff;
  --accent-hover: #52b7ff;
  --accent-100: rgba(107, 220, 255, 0.18);
  --accent-200: rgba(107, 220, 255, 0.28);
  --accent-gradient: linear-gradient(135deg, #7c5bff 0%, #6bdcff 50%, #2cf3c7 100%);
  --border-color: rgba(255, 255, 255, 0.12);
  --border-strong: rgba(255, 255, 255, 0.18);
  --card-glow: 0 20px 70px rgba(5, 10, 30, 0.45);
  --shadow-soft: 0 20px 70px rgba(5, 10, 30, 0.45);
  --shadow-medium: 0 30px 90px rgba(5, 10, 30, 0.55);
  --radius-s: 12px;
  --radius-m: 18px;
  --radius-l: 26px;
  --radius-xl: 32px;
  --duration-fast: 0.15s;
  --duration-normal: 0.25s;
  --duration-slow: 0.45s;
  --easing-out: cubic-bezier(0.16, 1, 0.3, 1);
  --edge-left-y: 0px;
  --edge-right-y: 0px;
  --scroll-opacity: 0.35;
  --scroll-detail: 0.3;
}

/* Ensure accent themes override ai-shell defaults */
html.ai-shell.theme-blue {
  --accent-color: #0ea5e9;
  --accent-hover: #0284c7;
  --scroll-base: color-mix(in srgb, #0ea5e9 28%, #eef2fa);
  --scroll-base-alt: color-mix(in srgb, #0ea5e9 22%, #e3e9f7);
  --background: #eef2fa;
  --background-alt: #e3e9f7;
  --surface: #ffffff;
  --surface-strong: #f7f9ff;
  --surface-hover: #f0f4fd;
  --foreground: #0b1020;
  --foreground-soft: #1c2740;
  --muted: #4a5672;
  --muted-soft: #64718c;
}

html.ai-shell.theme-green {
  --accent-color: #22c55e;
  --accent-hover: #16a34a;
  --scroll-base: color-mix(in srgb, #22c55e 65%, #04140c);
  --scroll-base-alt: color-mix(in srgb, #22c55e 55%, #04140c);
  --background: #04140c;
  --background-alt: #061a10;
  --surface: #0e2318;
  --surface-strong: #153123;
  --surface-hover: #10291d;
  --foreground: #f9fbff;
  --foreground-soft: #e5ecf5;
  --muted: #c9d4e6;
  --muted-soft: #aebbd4;
}

html.ai-shell.theme-purple {
  --accent-color: #8b5cf6;
  --accent-hover: #7c3aed;
  --scroll-base: color-mix(in srgb, #8b5cf6 65%, #0a041d);
  --scroll-base-alt: color-mix(in srgb, #8b5cf6 55%, #0a041d);
  --background: #0a041d;
  --background-alt: #0d0626;
  --surface: #16132b;
  --surface-strong: #1f1b3a;
  --surface-hover: #1a1632;
  --foreground: #f9fbff;
  --foreground-soft: #e5ecf5;
  --muted: #c9d4e6;
  --muted-soft: #aebbd4;
}

html.ai-shell.theme-orange {
  --accent-color: #f59e0b;
  --accent-hover: #d97706;
  --scroll-base: color-mix(in srgb, #f59e0b 65%, #0d0601);
  --scroll-base-alt: color-mix(in srgb, #f59e0b 55%, #0d0601);
  --background: #0d0601;
  --background-alt: #120701;
  --surface: #1f1206;
  --surface-strong: #2b1909;
  --surface-hover: #251508;
  --foreground: #f9fbff;
  --foreground-soft: #e5ecf5;
  --muted: #c9d4e6;
  --muted-soft: #aebbd4;
}

html.ai-shell body {
  background: var(--liquid-bg) !important;
  background-attachment: fixed, fixed, fixed, fixed, fixed;
  background-repeat: no-repeat;
  background-size: 200% 200%;
  animation: liquid-angle 22s ease-in-out infinite alternate, liquid-flow 36s ease-in-out infinite;
  color: var(--foreground);
}

@layer components {
  .shell-surface {
    background:
      radial-gradient(circle at 14% 16%, color-mix(in srgb, var(--accent-color) 18%, transparent), transparent 44%),
      radial-gradient(circle at 86% 14%, color-mix(in srgb, var(--accent-color) 12%, transparent), transparent 48%),
      linear-gradient(135deg, color-mix(in srgb, var(--surface) 92%, transparent), color-mix(in srgb, var(--surface-strong, var(--surface)) 80%, transparent));
    border: 1px solid var(--border-color);
    box-shadow: var(--card-glow), var(--shadow-soft);
    backdrop-filter: blur(var(--glass-blur));
  }

  .dark .shell-surface {
    border-color: var(--border-strong);
    box-shadow: var(--card-glow), var(--shadow-medium);
    background:
      radial-gradient(circle at 12% 12%, color-mix(in srgb, var(--accent-color) 20%, transparent), transparent 42%),
      radial-gradient(circle at 88% 16%, color-mix(in srgb, var(--accent-color) 16%, transparent), transparent 48%),
      linear-gradient(145deg, color-mix(in srgb, var(--surface) 86%, transparent), color-mix(in srgb, var(--surface-strong, var(--surface)) 92%, transparent));
  }

  .glass-page {
    position: relative;
    background: var(--liquid-bg);
    background-attachment: fixed, fixed, fixed, fixed, fixed;
    background-repeat: no-repeat;
  background-size: 200% 200%;
  animation: liquid-angle 22s ease-in-out infinite alternate, liquid-flow 36s ease-in-out infinite;
    isolation: isolate;
  }

  .glass-page::before {
    content: '';
    position: fixed;
    inset: -10%;
    pointer-events: none;
    z-index: 0;
    background:
      radial-gradient(circle at 20% 30%, color-mix(in srgb, var(--accent-color) 48%, #ffffff 52%), transparent 40%),
      radial-gradient(circle at 78% 32%, color-mix(in srgb, var(--accent-color) 40%, #6bdcff 30%, #ffffff 30%), transparent 44%),
      radial-gradient(circle at 50% 78%, color-mix(in srgb, var(--accent-color) 38%, #ffffff 62%), transparent 46%);
    filter: blur(26px);
    mix-blend-mode: screen;
  opacity: 0.7;
  }

  .dark .glass-page {
    background:
      radial-gradient(circle at 18% 18%, rgba(124, 93, 255, 0.12), transparent 38%),
      radial-gradient(circle at 82% 12%, rgba(83, 201, 255, 0.12), transparent 40%),
      linear-gradient(135deg, rgba(7, 10, 22, 0.96), rgba(10, 16, 32, 0.96));
    background-attachment: scroll;
    background-repeat: no-repeat;
    background-size: cover;
    animation: none;
  }

.glass-panel {
  position: relative;
  background:
    linear-gradient(155deg,
      color-mix(in srgb, var(--surface) 62%, transparent),
      color-mix(in srgb, var(--surface-strong) 62%, transparent)),
    radial-gradient(circle at 22% 18%, rgba(255, 255, 255, 0.12), transparent 40%),
    radial-gradient(circle at 78% 16%, rgba(255, 255, 255, 0.08), transparent 42%);
  border: 1px solid color-mix(in srgb, var(--border-color) 24%, #ffffff 10%);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.08),
    var(--card-glow),
    var(--shadow-soft);
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  transition: border-color var(--duration-fast) var(--easing-out), box-shadow var(--duration-fast) var(--easing-out);
  color: var(--foreground);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.18);
}

  .glass-panel::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
  background:
    radial-gradient(circle at 30% 20%, rgba(255, 255, 255, 0.28), transparent 40%),
    radial-gradient(circle at 80% 12%, rgba(255, 255, 255, 0.18), transparent 42%);
  opacity: 0.26;
  }

  .glass-panel:hover {
    border-color: color-mix(in srgb, var(--accent-color) 22%, var(--border-color));
    box-shadow: var(--card-glow), var(--shadow-medium);
  }

.glass-panel-soft {
  position: relative;
  background:
    linear-gradient(155deg,
      color-mix(in srgb, var(--surface) 48%, transparent),
      color-mix(in srgb, var(--surface-strong) 48%, transparent)),
    radial-gradient(circle at 24% 18%, rgba(255, 255, 255, 0.1), transparent 42%),
    radial-gradient(circle at 78% 14%, rgba(255, 255, 255, 0.06), transparent 44%);
  border: 1px solid color-mix(in srgb, var(--border-color) 18%, #ffffff 12%);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.06),
    var(--shadow-soft);
  backdrop-filter: blur(calc(var(--glass-blur) * 0.7));
  -webkit-backdrop-filter: blur(calc(var(--glass-blur) * 0.7));
  transition: border-color var(--duration-fast) var(--easing-out), box-shadow var(--duration-fast) var(--easing-out);
  color: var(--foreground);
}

.glass-strong {
  background:
    linear-gradient(155deg,
      color-mix(in srgb, var(--surface) 96%, transparent),
      color-mix(in srgb, var(--surface-strong) 96%, transparent)),
    radial-gradient(circle at 18% 18%, rgba(255, 255, 255, 0.2), transparent 40%),
    radial-gradient(circle at 82% 16%, rgba(255, 255, 255, 0.14), transparent 44%);
  border: 1px solid color-mix(in srgb, var(--border-strong) 32%, #ffffff 8%);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.14),
    var(--card-glow),
    var(--shadow-medium);
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  color: var(--foreground);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.glass-tile {
  background:
    linear-gradient(150deg,
      color-mix(in srgb, var(--surface) 96%, transparent),
      color-mix(in srgb, var(--surface-strong) 96%, transparent));
  border: 1px solid color-mix(in srgb, var(--border-color) 24%, #ffffff 4%);
  box-shadow: var(--shadow-soft), inset 0 1px 0 rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(calc(var(--glass-blur) - 0px));
  -webkit-backdrop-filter: blur(calc(var(--glass-blur) - 0px));
    transition: border-color var(--duration-fast) var(--easing-out), transform var(--duration-fast) var(--easing-out);
    color: var(--foreground);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.16);
  }

  .glass-tile:hover {
    border-color: color-mix(in srgb, var(--accent-color) 32%, var(--border-color));
    transform: translateY(-2px);
  }

  .glass-header {
    background:
      linear-gradient(135deg,
      color-mix(in srgb, var(--surface-strong) 82%, var(--background) 18%),
        color-mix(in srgb, var(--surface) 82%, var(--background-alt) 18%));
    border-bottom: 1px solid color-mix(in srgb, var(--border-color) 42%, #ffffff 6%);
    box-shadow:
      inset 0 -1px 0 rgba(0, 0, 0, 0.08),
      inset 0 1px 0 rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(calc(var(--glass-blur) + 2px));
    -webkit-backdrop-filter: blur(calc(var(--glass-blur) + 2px));
    color: var(--foreground);
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.22);
  }
}

/* Motion scaffolding */
html.ai-shell .has-animations [data-animate] {
  --a-x: 0px;
  --a-y: 26px;
  --a-scale: 0.985;
  --a-rotate: 0deg;
  --a-blur: 14px;
  opacity: 0;
  transform: translate3d(var(--a-x), var(--a-y), 0) scale(var(--a-scale)) rotate(var(--a-rotate));
  filter: blur(var(--a-blur));
  transition: opacity 0.75s var(--easing-out), transform 0.95s var(--easing-out), filter 0.95s var(--easing-out);
  transition-delay: var(--delay, 0s);
  will-change: transform, opacity, filter;
}

html.ai-shell [data-animate].visible {
  opacity: 1;
  transform: translate3d(0, 0, 0) scale(1) rotate(0deg);
  filter: blur(0);
}

html.ai-shell [data-tilt] {
  --tiltX: 0deg;
  --tiltY: 0deg;
  --glowX: 50%;
  --glowY: 50%;
  position: relative;
  transform: perspective(900px) rotateX(var(--tiltX)) rotateY(var(--tiltY));
  transition: transform var(--duration-normal) var(--easing-out), box-shadow var(--duration-normal) var(--easing-out);
  box-shadow: 0 12px 36px rgba(5, 10, 30, 0.35);
}

html.ai-shell [data-tilt]::after {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  background: radial-gradient(circle at var(--glowX) var(--glowY), rgba(107, 220, 255, 0.22), transparent 38%);
  opacity: 0;
  transition: opacity var(--duration-fast) var(--easing-out);
  mix-blend-mode: screen;
  pointer-events: none;
}

html.ai-shell .has-animations [data-tilt].is-tilting {
  box-shadow: 0 20px 70px rgba(5, 10, 30, 0.5);
}

html.ai-shell .has-animations [data-tilt].is-tilting::after {
  opacity: 1;
}

@keyframes intro-flow {
  0% { transform: scale(1) rotate(0deg) translate3d(0, 0, 0); opacity: 0.85; }
  50% { transform: scale(1.035) rotate(6deg) translate3d(-1%, -1%, 0); opacity: 0.9; }
  100% { transform: scale(1.06) rotate(-5deg) translate3d(1%, 1%, 0); opacity: 0.8; }
}

@keyframes liquid-angle {
  0% { --scroll-angle: 120deg; }
  25% { --scroll-angle: 150deg; }
  50% { --scroll-angle: 200deg; }
  75% { --scroll-angle: 250deg; }
  100% { --scroll-angle: 300deg; }
}

@keyframes liquid-flow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes liquid-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes liquid-float {
  0% { transform: translate3d(0, 0, 0) scale(1); }
  50% { transform: translate3d(-2%, -1%, 0) scale(1.02); }
  100% { transform: translate3d(2%, 1%, 0) scale(1.01); }
}

html.ai-shell ::selection {
  background: rgba(107, 220, 255, 0.18);
  color: var(--foreground);
}

body {
  background:
    /* Soft accent blooms */
    radial-gradient(circle at 16% 14%, color-mix(in srgb, var(--scroll-grad-a) 92%, #ffffff 8%), transparent 34%),
    radial-gradient(circle at 84% 18%, color-mix(in srgb, var(--scroll-grad-b) 88%, #ffffff 12%), transparent 40%),
    radial-gradient(circle at 50% 82%, color-mix(in srgb, var(--scroll-grad-c) 86%, #ffffff 14%), transparent 46%),
    /* Vignette to lift center and deepen edges */
    radial-gradient(120% 120% at 50% 46%, rgba(255, 255, 255, 0.0) 46%, rgba(0, 22, 48, 0.2) 76%, rgba(0, 10, 24, 0.28) 100%),
    /* Accent-driven ribbon that shifts with scroll */
    conic-gradient(
      from calc(var(--scroll-angle) + 28deg) at 48% 42%,
      color-mix(in srgb, var(--scroll-linear-a) 70%, #ffffff 30%) 0deg,
      color-mix(in srgb, var(--scroll-linear-b) 74%, #ffffff 26%) 120deg,
      color-mix(in srgb, var(--scroll-linear-a) 64%, #ffffff 36%) 240deg,
      color-mix(in srgb, var(--scroll-linear-b) 70%, #ffffff 30%) 360deg
    ),
    /* Base wash */
    linear-gradient(
      var(--scroll-angle),
      color-mix(in srgb, var(--scroll-linear-a) 84%, #ffffff 16%) 0%,
      color-mix(in srgb, var(--scroll-linear-b) 82%, #ffffff 18%) 60%,
      color-mix(in srgb, var(--scroll-linear-a) 82%, #ffffff 18%) 100%
    ),
    linear-gradient(180deg, color-mix(in srgb, var(--scroll-linear-b) 55%, #ffffff 45%) 0%, #ffffff 72%, color-mix(in srgb, var(--scroll-linear-b) 45%, #ffffff 55%) 100%);
  color: var(--foreground);
  font-family: var(--font-inter, 'Space Grotesk', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif);
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  min-height: 100vh;
  position: relative;
  background-size: 200% 200%;
  animation: liquid-angle 22s ease-in-out infinite alternate, liquid-flow 36s ease-in-out infinite;
}

body::before {
  content: '';
  position: fixed;
  inset: -20px;
  pointer-events: none;
  background:
    radial-gradient(circle at 22% 18%, color-mix(in srgb, var(--accent-color) 78%, #ffffff 22%), transparent 58%),
    radial-gradient(circle at 78% 14%, color-mix(in srgb, var(--accent-color) 70%, #ffffff 30%), transparent 56%),
    radial-gradient(circle at 50% 88%, color-mix(in srgb, var(--accent-color) 62%, #ffffff 38%), transparent 60%);
  opacity: 0.8;
  mix-blend-mode: screen;
  z-index: 0;
}

body::after {
  content: '';
  position: fixed;
  inset: -2px;
  pointer-events: none;
  z-index: 0;
  background-image:
    radial-gradient(circle, rgba(255, 255, 255, 0.16) 1.2px, transparent 0),
    radial-gradient(circle, rgba(0, 0, 0, 0.12) 1.2px, transparent 0),
    repeating-linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.12),
      rgba(255, 255, 255, 0.12) 2px,
      transparent 2px,
      transparent 14px
    );
  background-size: 140px 140px, 180px 180px, 220px 220px;
  mix-blend-mode: soft-light;
  opacity: 0.35;
}

.dark body {
  background: linear-gradient(135deg, #060b17 0%, #080f1f 45%, #070d1c 100%);
}

* {
  color: var(--foreground);
}

main,
header,
aside,
section,
footer,
.glass-panel {
  position: relative;
  z-index: 1;
}

::selection {
  background: var(--accent-100);
  color: var(--foreground);
}

.dark ::selection {
  background: var(--accent-200);
  color: var(--foreground);
}

/* Form controls */
button,
input,
textarea,
select {
  background:
    linear-gradient(140deg, color-mix(in srgb, var(--surface) 96%, transparent), color-mix(in srgb, var(--surface-hover) 96%, transparent));
  color: var(--foreground);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-s);
  padding: 0.65rem 0.85rem;
  backdrop-filter: blur(calc(var(--glass-blur) - 4px));
  -webkit-backdrop-filter: blur(calc(var(--glass-blur) - 4px));
  transition:
    border-color var(--duration-fast) var(--easing-out),
    box-shadow var(--duration-fast) var(--easing-out),
    background var(--duration-fast) var(--easing-out);
}

button:hover,
input:hover,
textarea:hover,
select:hover {
  border-color: color-mix(in srgb, var(--accent-color) 40%, var(--border-color));
  box-shadow: 0 8px 26px rgba(20, 25, 45, 0.12);
}

button:focus,
input:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: var(--accent-color);
  box-shadow: 0 0 0 4px var(--accent-100);
}

button:disabled,
input:disabled,
textarea:disabled,
select:disabled {
  opacity: 0.55;
  cursor: not-allowed;
}

.muted {
  color: var(--muted);
}

/* Custom scrollbar - subtle and refined */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(12, 27, 51, 0.12);
  border-radius: 6px;
}

.dark ::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.12);
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(12, 27, 51, 0.2);
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.2);
}

/* Ensure Recharts tooltips stay legible in light and dark themes */
.recharts-default-tooltip {
  background:
    linear-gradient(145deg, color-mix(in srgb, var(--surface) 92%, transparent), color-mix(in srgb, var(--surface-strong) 82%, transparent)) !important;
  color: var(--foreground) !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 16px !important;
  box-shadow: var(--shadow-soft) !important;
  backdrop-filter: blur(calc(var(--glass-blur) - 2px));
  -webkit-backdrop-filter: blur(calc(var(--glass-blur) - 2px));
  padding: 0.85rem 1rem !important;
}

.dark .recharts-default-tooltip {
  background: #0b1426 !important;
  border-color: #111827 !important;
  box-shadow: 0 22px 48px rgba(0, 0, 0, 0.45) !important;
}

.recharts-tooltip-label,
.recharts-tooltip-item {
  color: var(--foreground) !important;
}

.recharts-tooltip-label {
  font-weight: 700;
}

.recharts-tooltip-item {
  font-weight: 600;
}
