@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap');

:root {
  --background: #a8b1c8;
  --background-alt: #9fa9c4;
  --surface: #eef2fb;
  --surface-strong: #f7f9ff;
  --surface-hover: #e6eafb;
  --foreground: #01030a;
  --foreground-soft: #090f1d;
  --muted: #0d1730;
  --muted-soft: #1c2844;
  --border-width: 1px;
  --border-color: rgba(36, 46, 70, 0.7);
  --border-strong: rgba(36, 46, 70, 0.85);
  --accent-color: #a78bfa;
  --accent-hover: #8b5cf6;
  --accent-100: rgba(167, 139, 250, 0.18);
  --accent-200: rgba(167, 139, 250, 0.3);
  --card-glow: 0 10px 30px rgba(2, 4, 10, 0.32);
  --shadow-soft: 0 8px 22px rgba(2, 4, 10, 0.28);
  --shadow-medium: 0 16px 36px rgba(2, 4, 10, 0.34);
  --glass-blur: 2px;
  --glass-opacity: 0.99;
  --glass-stroke: rgba(82, 68, 188, 0.38);
  --radius-s: 12px;
  --radius-m: 18px;
  --radius-l: 26px;
  --radius-xl: 32px;
  --duration-fast: 0.15s;
  --duration-normal: 0.25s;
  --duration-slow: 0.45s;
  --easing-out: cubic-bezier(0.16, 1, 0.3, 1);
  --font-inter: 'Space Grotesk', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

.dark {
  --background: #070b13;
  --background-alt: #0b1220;
  --surface: rgba(14, 20, 34, 0.92);
  --surface-strong: #0f1627;
  --surface-hover: rgba(255, 255, 255, 0.06);
  --foreground: #e6edf7;
  --foreground-soft: #c8d2e5;
  --muted: #9aadcb;
  --muted-soft: #8294b8;
  --border-width: 1px;
  --border-color: #1c2738;
  --border-strong: #253144;
  --accent-color: #6bdcff;
  --accent-hover: #52b7ff;
  --accent-100: rgba(107, 220, 255, 0.14);
  --accent-200: rgba(107, 220, 255, 0.24);
  --card-glow: 0 14px 42px rgba(9, 20, 42, 0.55);
  --shadow-soft: 0 18px 46px rgba(0, 0, 0, 0.4);
  --shadow-medium: 0 26px 70px rgba(0, 0, 0, 0.5);
  --radius-s: 12px;
  --radius-m: 18px;
  --radius-l: 26px;
  --radius-xl: 32px;
  --duration-fast: 0.15s;
  --duration-normal: 0.25s;
  --duration-slow: 0.45s;
  --easing-out: cubic-bezier(0.16, 1, 0.3, 1);
}

.theme-blue {
  --accent-color: #0ea5e9;
  --accent-hover: #0284c7;
}

.theme-green {
  --accent-color: #22c55e;
  --accent-hover: #16a34a;
}

.theme-purple {
  --accent-color: #8b5cf6;
  --accent-hover: #7c3aed;
}

.theme-orange {
  --accent-color: #f59e0b;
  --accent-hover: #d97706;
}

/* AI-native shell tokens (landing page aesthetic, scoped) */
html.ai-shell {
  --background: #070a16;
  --background-soft: #0c1024;
  --background-alt: rgba(255, 255, 255, 0.06);
  --surface: rgba(255, 255, 255, 0.08);
  --surface-strong: rgba(255, 255, 255, 0.12);
  --surface-hover: rgba(255, 255, 255, 0.08);
  --foreground: #f6f7fb;
  --foreground-soft: #dfe5ff;
  --muted: #b6bed6;
  --muted-soft: #9aa5c1;
  --accent-color: #6bdcff;
  --accent-hover: #52b7ff;
  --accent-100: rgba(107, 220, 255, 0.18);
  --accent-200: rgba(107, 220, 255, 0.28);
  --accent-gradient: linear-gradient(135deg, #7c5bff 0%, #6bdcff 50%, #2cf3c7 100%);
  --border-color: rgba(255, 255, 255, 0.12);
  --border-strong: rgba(255, 255, 255, 0.18);
  --card-glow: 0 20px 70px rgba(5, 10, 30, 0.45);
  --shadow-soft: 0 20px 70px rgba(5, 10, 30, 0.45);
  --shadow-medium: 0 30px 90px rgba(5, 10, 30, 0.55);
  --radius-s: 12px;
  --radius-m: 18px;
  --radius-l: 26px;
  --radius-xl: 32px;
  --duration-fast: 0.15s;
  --duration-normal: 0.25s;
  --duration-slow: 0.45s;
  --easing-out: cubic-bezier(0.16, 1, 0.3, 1);
  --edge-left-y: 0px;
  --edge-right-y: 0px;
  --scroll-opacity: 0.35;
  --scroll-detail: 0.3;
}

html.ai-shell body {
  background:
    radial-gradient(circle at 18% 18%, rgba(124, 93, 255, 0.22), transparent 36%),
    radial-gradient(circle at 82% 16%, rgba(83, 201, 255, 0.22), transparent 38%),
    radial-gradient(circle at 20% 82%, rgba(44, 243, 199, 0.12), transparent 40%),
    linear-gradient(135deg, #0c1024 0%, #070a16 40%, #0b132d 75%, #070a16 100%);
  color: var(--foreground);
}

html.ai-shell body::before,
html.ai-shell body::after {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

/* Animated edge lines inspired by theme reference */
html.ai-shell body::before {
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0) 100%),
    radial-gradient(circle at 2% 10%, rgba(124, 93, 255, 0.2), transparent 30%),
    radial-gradient(circle at 98% 14%, rgba(83, 201, 255, 0.16), transparent 32%);
  mask:
    linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.4) 15%, rgba(255,255,255,0.4) 85%, transparent 100%);
  opacity: calc(0.5 + var(--scroll-opacity) * 0.3);
  filter: blur(0.5px);
}

html.ai-shell body::after {
  background:
    linear-gradient(transparent 0%, rgba(255,255,255,0.14) 18%, rgba(255,255,255,0.1) 82%, transparent 100%),
    linear-gradient(90deg, rgba(124, 93, 255, 0.28), rgba(83, 201, 255, 0.28));
  background-size: 2px 1600px, 4px 1600px;
  background-repeat: repeat-y;
  background-position: 2% var(--edge-left-y), 98% var(--edge-right-y);
  mix-blend-mode: screen;
  opacity: calc(0.25 + var(--scroll-opacity) * 0.25);
}

@layer components {
  .shell-surface {
    background:
      radial-gradient(circle at 14% 16%, color-mix(in srgb, var(--accent-color) 18%, transparent), transparent 44%),
      radial-gradient(circle at 86% 14%, color-mix(in srgb, var(--accent-color) 12%, transparent), transparent 48%),
      linear-gradient(135deg, color-mix(in srgb, var(--surface) 92%, transparent), color-mix(in srgb, var(--surface-strong, var(--surface)) 80%, transparent));
    border: 1px solid var(--border-color);
    box-shadow: var(--card-glow), var(--shadow-soft);
    backdrop-filter: blur(var(--glass-blur));
  }

  .dark .shell-surface {
    border-color: var(--border-strong);
    box-shadow: var(--card-glow), var(--shadow-medium);
    background:
      radial-gradient(circle at 12% 12%, color-mix(in srgb, var(--accent-color) 20%, transparent), transparent 42%),
      radial-gradient(circle at 88% 16%, color-mix(in srgb, var(--accent-color) 16%, transparent), transparent 48%),
      linear-gradient(145deg, color-mix(in srgb, var(--surface) 86%, transparent), color-mix(in srgb, var(--surface-strong, var(--surface)) 92%, transparent));
  }

  .glass-page {
    background:
    radial-gradient(circle at 18% 18%, rgba(124, 93, 255, 0.018), transparent 30%),
    radial-gradient(circle at 78% 14%, rgba(83, 201, 255, 0.018), transparent 32%),
    linear-gradient(135deg, #c4cde2 0%, #b7c0d5 56%, #cfd0e6 100%);
  }

  .dark .glass-page {
    background:
      radial-gradient(circle at 18% 18%, rgba(124, 93, 255, 0.12), transparent 38%),
      radial-gradient(circle at 82% 12%, rgba(83, 201, 255, 0.12), transparent 40%),
      linear-gradient(135deg, rgba(7, 10, 22, 0.96), rgba(10, 16, 32, 0.96));
  }

  .glass-panel {
    position: relative;
    background:
      linear-gradient(155deg, color-mix(in srgb, var(--surface) 100%, transparent), color-mix(in srgb, var(--surface-strong, var(--surface)) 100%, transparent)),
      radial-gradient(circle at 18% 16%, color-mix(in srgb, var(--accent-color) 6%, transparent), transparent 40%),
      radial-gradient(circle at 82% 12%, color-mix(in srgb, var(--accent-color) 5%, transparent), transparent 42%);
    border: 1px solid color-mix(in srgb, var(--border-color) 88%, var(--accent-color) 4%);
    box-shadow: var(--card-glow), var(--shadow-soft);
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
    transition: border-color var(--duration-fast) var(--easing-out), box-shadow var(--duration-fast) var(--easing-out);
  }

  .glass-panel::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
  background: radial-gradient(circle at 32% 24%, rgba(255, 255, 255, 0.04), transparent 28%);
  opacity: 0.08;
  }

  .glass-panel:hover {
    border-color: color-mix(in srgb, var(--accent-color) 22%, var(--border-color));
    box-shadow: var(--card-glow), var(--shadow-medium);
  }

  .glass-strong {
    background:
      linear-gradient(150deg, color-mix(in srgb, var(--surface-strong) 100%, transparent), color-mix(in srgb, var(--surface) 99%, transparent)),
      radial-gradient(circle at 18% 18%, color-mix(in srgb, var(--accent-color) 8%, transparent), transparent 42%),
      radial-gradient(circle at 82% 16%, color-mix(in srgb, var(--accent-color) 6%, transparent), transparent 46%);
    border: 1px solid color-mix(in srgb, var(--border-strong) 88%, var(--accent-color) 6%);
    box-shadow: var(--card-glow), var(--shadow-medium);
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
  }

  .glass-tile {
  background: color-mix(in srgb, var(--surface) 100%, transparent);
  border: 1px solid color-mix(in srgb, var(--border-color) 88%, var(--accent-color) 4%);
    box-shadow: var(--shadow-soft);
    backdrop-filter: blur(calc(var(--glass-blur) - 1px));
    -webkit-backdrop-filter: blur(calc(var(--glass-blur) - 1px));
    transition: border-color var(--duration-fast) var(--easing-out), transform var(--duration-fast) var(--easing-out);
  }

  .glass-tile:hover {
    border-color: color-mix(in srgb, var(--accent-color) 32%, var(--border-color));
    transform: translateY(-2px);
  }

  .glass-header {
    background: linear-gradient(135deg, color-mix(in srgb, var(--surface-strong) 98%, transparent), color-mix(in srgb, var(--surface) 96%, transparent));
    border-bottom: 1px solid color-mix(in srgb, var(--border-color) 82%, var(--accent-color) 8%);
    backdrop-filter: blur(calc(var(--glass-blur) - 2px));
    -webkit-backdrop-filter: blur(calc(var(--glass-blur) - 2px));
  }
}

/* Motion scaffolding */
html.ai-shell .has-animations [data-animate] {
  --a-x: 0px;
  --a-y: 26px;
  --a-scale: 0.985;
  --a-rotate: 0deg;
  --a-blur: 14px;
  opacity: 0;
  transform: translate3d(var(--a-x), var(--a-y), 0) scale(var(--a-scale)) rotate(var(--a-rotate));
  filter: blur(var(--a-blur));
  transition: opacity 0.75s var(--easing-out), transform 0.95s var(--easing-out), filter 0.95s var(--easing-out);
  transition-delay: var(--delay, 0s);
  will-change: transform, opacity, filter;
}

html.ai-shell [data-animate].visible {
  opacity: 1;
  transform: translate3d(0, 0, 0) scale(1) rotate(0deg);
  filter: blur(0);
}

html.ai-shell [data-tilt] {
  --tiltX: 0deg;
  --tiltY: 0deg;
  --glowX: 50%;
  --glowY: 50%;
  position: relative;
  transform: perspective(900px) rotateX(var(--tiltX)) rotateY(var(--tiltY));
  transition: transform var(--duration-normal) var(--easing-out), box-shadow var(--duration-normal) var(--easing-out);
  box-shadow: 0 12px 36px rgba(5, 10, 30, 0.35);
}

html.ai-shell [data-tilt]::after {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  background: radial-gradient(circle at var(--glowX) var(--glowY), rgba(107, 220, 255, 0.22), transparent 38%);
  opacity: 0;
  transition: opacity var(--duration-fast) var(--easing-out);
  mix-blend-mode: screen;
  pointer-events: none;
}

html.ai-shell .has-animations [data-tilt].is-tilting {
  box-shadow: 0 20px 70px rgba(5, 10, 30, 0.5);
}

html.ai-shell .has-animations [data-tilt].is-tilting::after {
  opacity: 1;
}

@keyframes intro-flow {
  0% { transform: scale(1) rotate(0deg) translate3d(0, 0, 0); opacity: 0.85; }
  50% { transform: scale(1.035) rotate(6deg) translate3d(-1%, -1%, 0); opacity: 0.9; }
  100% { transform: scale(1.06) rotate(-5deg) translate3d(1%, 1%, 0); opacity: 0.8; }
}

html.ai-shell ::selection {
  background: rgba(107, 220, 255, 0.18);
  color: var(--foreground);
}

body {
  background:
    radial-gradient(circle at 18% 18%, rgba(167, 139, 250, 0.18), transparent 38%),
    radial-gradient(circle at 82% 14%, rgba(118, 180, 255, 0.16), transparent 42%),
    radial-gradient(circle at 20% 82%, rgba(111, 200, 255, 0.12), transparent 44%),
    linear-gradient(135deg, #e6eaf6 0%, #a8b1c8 48%, #d2d5e7 100%);
  color: var(--foreground);
  font-family: var(--font-inter, 'Space Grotesk', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif);
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  min-height: 100vh;
  position: relative;
}

body::before {
  content: '';
  position: fixed;
  inset: -20px;
  pointer-events: none;
  background:
    radial-gradient(circle at 20% 20%, rgba(2, 4, 10, 0.16), transparent 46%),
    radial-gradient(circle at 80% 18%, rgba(2, 4, 10, 0.14), transparent 42%),
    radial-gradient(circle at 50% 90%, rgba(2, 4, 10, 0.18), transparent 50%);
  z-index: 0;
}

.dark body {
  background: linear-gradient(135deg, #060b17 0%, #080f1f 45%, #070d1c 100%);
}

* {
  color: var(--foreground);
}

main,
header,
aside,
section,
footer,
.glass-panel {
  position: relative;
  z-index: 1;
}

::selection {
  background: var(--accent-100);
  color: var(--foreground);
}

.dark ::selection {
  background: var(--accent-200);
  color: var(--foreground);
}

/* Form controls */
button,
input,
textarea,
select {
  background:
    linear-gradient(140deg, color-mix(in srgb, var(--surface) 96%, transparent), color-mix(in srgb, var(--surface-hover) 96%, transparent));
  color: var(--foreground);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-s);
  padding: 0.65rem 0.85rem;
  backdrop-filter: blur(calc(var(--glass-blur) - 4px));
  -webkit-backdrop-filter: blur(calc(var(--glass-blur) - 4px));
  transition:
    border-color var(--duration-fast) var(--easing-out),
    box-shadow var(--duration-fast) var(--easing-out),
    background var(--duration-fast) var(--easing-out);
}

button:hover,
input:hover,
textarea:hover,
select:hover {
  border-color: color-mix(in srgb, var(--accent-color) 40%, var(--border-color));
  box-shadow: 0 8px 26px rgba(20, 25, 45, 0.12);
}

button:focus,
input:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: var(--accent-color);
  box-shadow: 0 0 0 4px var(--accent-100);
}

button:disabled,
input:disabled,
textarea:disabled,
select:disabled {
  opacity: 0.55;
  cursor: not-allowed;
}

.muted {
  color: var(--muted);
}

/* Custom scrollbar - subtle and refined */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(12, 27, 51, 0.12);
  border-radius: 6px;
}

.dark ::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.12);
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(12, 27, 51, 0.2);
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.2);
}

/* Ensure Recharts tooltips stay legible in light and dark themes */
.recharts-default-tooltip {
  background:
    linear-gradient(145deg, color-mix(in srgb, var(--surface) 92%, transparent), color-mix(in srgb, var(--surface-strong) 82%, transparent)) !important;
  color: var(--foreground) !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 16px !important;
  box-shadow: var(--shadow-soft) !important;
  backdrop-filter: blur(calc(var(--glass-blur) - 2px));
  -webkit-backdrop-filter: blur(calc(var(--glass-blur) - 2px));
  padding: 0.85rem 1rem !important;
}

.dark .recharts-default-tooltip {
  background: #0b1426 !important;
  border-color: #111827 !important;
  box-shadow: 0 22px 48px rgba(0, 0, 0, 0.45) !important;
}

.recharts-tooltip-label,
.recharts-tooltip-item {
  color: var(--foreground) !important;
}

.recharts-tooltip-label {
  font-weight: 700;
}

.recharts-tooltip-item {
  font-weight: 600;
}
